name: CI

on: [push]

jobs:

  Windows10:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2

      - name: Call Windows10 steps
        uses: ./.github/actions/Windows10
        
      - name: 准备NodeJs环境
        uses: ./.github/actions/base
        
      - name: 执行测试
        uses: ./.github/actions/doTest

  Ubuntu:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Call Ubuntu steps
        uses: ./.github/actions/Ubuntu
        
      - name: 准备NodeJs环境
        uses: ./.github/actions/base
        
      - name: 执行测试
        uses: ./.github/actions/doTest

  macOS:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Call macOS steps
        uses: ./.github/actions/macOS
        
      - name: 准备NodeJs环境
        uses: ./.github/actions/base
        
      - name: 执行测试
        uses: ./.github/actions/doTest