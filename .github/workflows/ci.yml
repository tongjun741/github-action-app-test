name: CI

on: [push]

jobs:
  linux:
    runs-on: ubuntu-latest
    steps:
      - run: sudo apt-get install ninja-build
      - run: ninja --version

  windows:
    runs-on: windows-latest
    steps:
      - name: Install your_software
        run: |
          Invoke-WebRequest -Uri "https://dl.szdamai.com/downloads/win10_app_zh/HuaYoungApp_Win10_8.2.540_zh_setup.exe" -OutFile "$env:TEMP\your_software_installer.exe"
          Start-Process -FilePath "$env:TEMP\your_software_installer.exe" -ArgumentList "/S" -Wait

      - name: Check installation success
        run: |
          Test-Path "$env:APPDATA\Local\Programs\HuaYoung\花漾客户端.exe"  # 检查安装目录是否存在


  mac:
    runs-on: macos-latest
    steps:
      - run: brew install ninja 
      - run: ninja --version